#DEBUG	= -g -DDEBUG
DEBUG	= -O2 -DDEBUG
OPT	= -funroll-loops -fPIC -D__USE_STRING_INLINES -fPIC

CC	= g++

SRCS 	= ini_parser.c xmlparser.c

INCL	+= -I/usr/include/libxml2
CFLAGS	= -Wall $(INCL) -MMD $(DEBUG) $(OPT) 

all: $(SRCS:.cpp=.o)
	-cp *.o ../
install:
	@-mkdir /usr/include/
	-cp -v *.hpp /usr/include/

%.o: %.cpp Makefile
	$(CC) $(CFLAGS) -c -o $@ $<
	@-mv -f $*.d .dep.$@

clean:
	@-rm -f *.o *.po *.so *.d .dep.* $(BINS) core

-include /dev/null $(wildcard .dep.*)